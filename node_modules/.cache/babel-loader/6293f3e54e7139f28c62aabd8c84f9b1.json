{"ast":null,"code":"var _jsxFileName = \"F:\\\\music_webapp\\\\src\\\\pages\\\\discover\\\\child-pages\\\\recommend\\\\child-components\\\\new-album\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { memo, useEffect, useRef } from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\nimport { getNewAlbumAsync } from '../../redux/action';\nimport { nanoid } from 'nanoid';\nimport { NewAlbumWrapper } from './style';\nimport RecConHeader from '@/components/rec-content-header';\nimport { Carousel } from 'antd';\nimport AlbumCover from '@/components/album-cover';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default _c2 = /*#__PURE__*/_s( /*#__PURE__*/memo(_c = _s(function NewAlbum() {\n  _s();\n\n  //组件挂载时发送网络请求获取热门推荐数据\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getNewAlbumAsync());\n  }, [dispatch]); //网络请求成功后，取出保存在redux中的热推数据\n\n  const {\n    newAlbum\n  } = useSelector(state => ({\n    newAlbum: state.getIn(['recommend', 'newAlbum'])\n  }), shallowEqual); // console.log(newAlbum);\n  //useRef保存轮播图节点，获取prev(), next()方法\n\n  const bannerRef = useRef();\n  return /*#__PURE__*/_jsxDEV(NewAlbumWrapper, {\n    children: [/*#__PURE__*/_jsxDEV(RecConHeader, {\n      title: \"\\u65B0\\u789F\\u4E0A\\u67B6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"new-album-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inside-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(Carousel, {\n          dots: false,\n          ref: bannerRef,\n          children: [0, 1].map(item => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"album\",\n              children: newAlbum && newAlbum.slice(item * 5, (item + 1) * 5).map(obj => {\n                return /*#__PURE__*/_jsxDEV(AlbumCover, {\n                  info: obj,\n                  size: 100,\n                  width: 118,\n                  bgp: \"-570px\",\n                  children: obj.item\n                }, obj.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 40,\n                  columnNumber: 27\n                }, this);\n              })\n            }, nanoid(), false, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"sprite_02 control left-arrow\",\n        onClick: () => {\n          bannerRef.current.prev();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"sprite_02 control right-arrow\",\n        onClick: () => {\n          bannerRef.current.next();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}, \"zklB6In3LOCYhD9YujUGMFyQBDI=\", false, function () {\n  return [useDispatch, useSelector];\n})), \"zklB6In3LOCYhD9YujUGMFyQBDI=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"%default%$memo\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","memo","useEffect","useRef","useDispatch","useSelector","shallowEqual","getNewAlbumAsync","nanoid","NewAlbumWrapper","RecConHeader","Carousel","AlbumCover","NewAlbum","dispatch","newAlbum","state","getIn","bannerRef","map","item","slice","obj","id","current","prev","next"],"sources":["F:/music_webapp/src/pages/discover/child-pages/recommend/child-components/new-album/index.js"],"sourcesContent":["import React, {memo, useEffect, useRef} from 'react'\r\nimport {useDispatch, useSelector, shallowEqual} from 'react-redux'\r\nimport {getNewAlbumAsync} from '../../redux/action'\r\nimport {nanoid} from 'nanoid'\r\n\r\nimport {NewAlbumWrapper} from './style'\r\nimport RecConHeader from '@/components/rec-content-header' \r\nimport {Carousel} from 'antd'\r\nimport AlbumCover from '@/components/album-cover'\r\n\r\nexport default memo(function NewAlbum() {\r\n\r\n  //组件挂载时发送网络请求获取热门推荐数据\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch(getNewAlbumAsync())\r\n  }, [dispatch])\r\n\r\n  //网络请求成功后，取出保存在redux中的热推数据\r\n  const {newAlbum} = useSelector(state => ({newAlbum: state.getIn(['recommend','newAlbum'])}), shallowEqual)\r\n  // console.log(newAlbum);\r\n\r\n  //useRef保存轮播图节点，获取prev(), next()方法\r\n  const bannerRef = useRef()\r\n\r\n  return (\r\n    <NewAlbumWrapper>\r\n      <RecConHeader title=\"新碟上架\"></RecConHeader>\r\n      <div className=\"new-album-content\">\r\n        <div className=\"inside-wrapper\">\r\n          <Carousel dots={false} ref={bannerRef}>\r\n            {\r\n              [0, 1].map(item => {\r\n                return (\r\n                  <div key={nanoid()} className=\"album\">\r\n                    {\r\n                      newAlbum && newAlbum.slice(item * 5, (item + 1) * 5).map(obj => {\r\n                        return (\r\n                          <AlbumCover key={obj.id} info={obj} size={100} width={118} bgp=\"-570px\">{obj.item}</AlbumCover>\r\n                        )\r\n                      })\r\n                    }\r\n                  </div>\r\n                )\r\n              })\r\n            }\r\n          </Carousel>\r\n        </div>\r\n        <button className=\"sprite_02 control left-arrow\" onClick={() => {bannerRef.current.prev()}}></button>\r\n        <button className=\"sprite_02 control right-arrow\" onClick={() => {bannerRef.current.next()}}></button>\r\n      </div>\r\n    </NewAlbumWrapper>\r\n  )\r\n})"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,IAAf,EAAqBC,SAArB,EAAgCC,MAAhC,QAA6C,OAA7C;AACA,SAAQC,WAAR,EAAqBC,WAArB,EAAkCC,YAAlC,QAAqD,aAArD;AACA,SAAQC,gBAAR,QAA+B,oBAA/B;AACA,SAAQC,MAAR,QAAqB,QAArB;AAEA,SAAQC,eAAR,QAA8B,SAA9B;AACA,OAAOC,YAAP,MAAyB,iCAAzB;AACA,SAAQC,QAAR,QAAuB,MAAvB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;;AAEA,mDAAeX,IAAI,SAAC,SAASY,QAAT,GAAoB;EAAA;;EAEtC;EACA,MAAMC,QAAQ,GAAGV,WAAW,EAA5B;EAEAF,SAAS,CAAC,MAAM;IACdY,QAAQ,CAACP,gBAAgB,EAAjB,CAAR;EACD,CAFQ,EAEN,CAACO,QAAD,CAFM,CAAT,CALsC,CAStC;;EACA,MAAM;IAACC;EAAD,IAAaV,WAAW,CAACW,KAAK,KAAK;IAACD,QAAQ,EAAEC,KAAK,CAACC,KAAN,CAAY,CAAC,WAAD,EAAa,UAAb,CAAZ;EAAX,CAAL,CAAN,EAA+DX,YAA/D,CAA9B,CAVsC,CAWtC;EAEA;;EACA,MAAMY,SAAS,GAAGf,MAAM,EAAxB;EAEA,oBACE,QAAC,eAAD;IAAA,wBACE,QAAC,YAAD;MAAc,KAAK,EAAC;IAApB;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAK,SAAS,EAAC,mBAAf;MAAA,wBACE;QAAK,SAAS,EAAC,gBAAf;QAAA,uBACE,QAAC,QAAD;UAAU,IAAI,EAAE,KAAhB;UAAuB,GAAG,EAAEe,SAA5B;UAAA,UAEI,CAAC,CAAD,EAAI,CAAJ,EAAOC,GAAP,CAAWC,IAAI,IAAI;YACjB,oBACE;cAAoB,SAAS,EAAC,OAA9B;cAAA,UAEIL,QAAQ,IAAIA,QAAQ,CAACM,KAAT,CAAeD,IAAI,GAAG,CAAtB,EAAyB,CAACA,IAAI,GAAG,CAAR,IAAa,CAAtC,EAAyCD,GAAzC,CAA6CG,GAAG,IAAI;gBAC9D,oBACE,QAAC,UAAD;kBAAyB,IAAI,EAAEA,GAA/B;kBAAoC,IAAI,EAAE,GAA1C;kBAA+C,KAAK,EAAE,GAAtD;kBAA2D,GAAG,EAAC,QAA/D;kBAAA,UAAyEA,GAAG,CAACF;gBAA7E,GAAiBE,GAAG,CAACC,EAArB;kBAAA;kBAAA;kBAAA;gBAAA,QADF;cAGD,CAJW;YAFhB,GAAUf,MAAM,EAAhB;cAAA;cAAA;cAAA;YAAA,QADF;UAWD,CAZD;QAFJ;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADF,eAoBE;QAAQ,SAAS,EAAC,8BAAlB;QAAiD,OAAO,EAAE,MAAM;UAACU,SAAS,CAACM,OAAV,CAAkBC,IAAlB;QAAyB;MAA1F;QAAA;QAAA;QAAA;MAAA,QApBF,eAqBE;QAAQ,SAAS,EAAC,+BAAlB;QAAkD,OAAO,EAAE,MAAM;UAACP,SAAS,CAACM,OAAV,CAAkBE,IAAlB;QAAyB;MAA3F;QAAA;QAAA;QAAA;MAAA,QArBF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA4BD,CA5CkB;EAAA,QAGAtB,WAHA,EAUEC,WAVF;AAAA,GAAnB;EAAA,QAGmBD,WAHnB,EAUqBC,WAVrB;AAAA"},"metadata":{},"sourceType":"module"}