{"ast":null,"code":"var pathGetter = require('./path-getter');\n\nvar utils = require('./utils');\n\nvar WMap = typeof WeakMap !== 'undefined' ? WeakMap : function () {\n  var keys = [];\n  var values = [];\n  return {\n    set: function (key, value) {\n      keys.push(key);\n      values.push(value);\n    },\n    get: function (key) {\n      for (var i = 0; i < keys.length; i++) {\n        if (keys[i] === key) {\n          return values[i];\n        }\n      }\n    }\n  };\n}; // Based on https://github.com/douglascrockford/JSON-js/blob/master/cycle.js\n\nexports.decycle = function decycle(object, options, replacer, map) {\n  'use strict';\n\n  map = map || new WMap();\n  var noCircularOption = !Object.prototype.hasOwnProperty.call(options, 'circular');\n  var withRefs = options.refs !== false;\n  return function derez(_value, path, key) {\n    // The derez recurses through the object, producing the deep copy.\n    var i, // The loop counter\n    name, // Property name\n    nu; // The new object or array\n    // typeof null === 'object', so go on if this value is really an object but not\n    // one of the weird builtin objects.\n\n    var value = typeof replacer === 'function' ? replacer(key || '', _value) : _value;\n\n    if (options.date && value instanceof Date) {\n      return {\n        $jsan: 'd' + value.getTime()\n      };\n    }\n\n    if (options.regex && value instanceof RegExp) {\n      return {\n        $jsan: 'r' + utils.getRegexFlags(value) + ',' + value.source\n      };\n    }\n\n    if (options['function'] && typeof value === 'function') {\n      return {\n        $jsan: 'f' + utils.stringifyFunction(value, options['function'])\n      };\n    }\n\n    if (options['nan'] && typeof value === 'number' && isNaN(value)) {\n      return {\n        $jsan: 'n'\n      };\n    }\n\n    if (options['infinity']) {\n      if (Number.POSITIVE_INFINITY === value) return {\n        $jsan: 'i'\n      };\n      if (Number.NEGATIVE_INFINITY === value) return {\n        $jsan: 'y'\n      };\n    }\n\n    if (options['undefined'] && value === undefined) {\n      return {\n        $jsan: 'u'\n      };\n    }\n\n    if (options['error'] && value instanceof Error) {\n      return {\n        $jsan: 'e' + value.message\n      };\n    }\n\n    if (options['symbol'] && typeof value === 'symbol') {\n      var symbolKey = Symbol.keyFor(value);\n\n      if (symbolKey !== undefined) {\n        return {\n          $jsan: 'g' + symbolKey\n        };\n      } // 'Symbol(foo)'.slice(7, -1) === 'foo'\n\n\n      return {\n        $jsan: 's' + value.toString().slice(7, -1)\n      };\n    }\n\n    if (options['map'] && typeof Map === 'function' && value instanceof Map && typeof Array.from === 'function') {\n      return {\n        $jsan: 'm' + JSON.stringify(decycle(Array.from(value), options, replacer, map))\n      };\n    }\n\n    if (options['set'] && typeof Set === 'function' && value instanceof Set && typeof Array.from === 'function') {\n      return {\n        $jsan: 'l' + JSON.stringify(decycle(Array.from(value), options, replacer, map))\n      };\n    }\n\n    if (value && typeof value.toJSON === 'function') {\n      try {\n        value = value.toJSON(key);\n      } catch (error) {\n        var keyString = key || '$';\n        return \"toJSON failed for '\" + (map.get(value) || keyString) + \"'\";\n      }\n    }\n\n    if (typeof value === 'object' && value !== null && !(value instanceof Boolean) && !(value instanceof Date) && !(value instanceof Number) && !(value instanceof RegExp) && !(value instanceof String) && !(typeof value === 'symbol') && !(value instanceof Error)) {\n      // If the value is an object or array, look to see if we have already\n      // encountered it. If so, return a $ref/path object.\n      if (typeof value === 'object') {\n        var foundPath = map.get(value);\n\n        if (foundPath) {\n          if (noCircularOption && withRefs) {\n            return {\n              $jsan: foundPath\n            };\n          } // This is only a true circular reference if the parent path is inside of foundPath\n          // drop the last component of the current path and check if it starts with foundPath\n\n\n          var parentPath = path.split('.').slice(0, -1).join('.');\n\n          if (parentPath.indexOf(foundPath) === 0) {\n            if (!noCircularOption) {\n              return typeof options.circular === 'function' ? options.circular(value, path, foundPath) : options.circular;\n            }\n\n            return {\n              $jsan: foundPath\n            };\n          }\n\n          if (withRefs) return {\n            $jsan: foundPath\n          };\n        }\n\n        map.set(value, path);\n      } // If it is an array, replicate the array.\n\n\n      if (Object.prototype.toString.apply(value) === '[object Array]') {\n        nu = [];\n\n        for (i = 0; i < value.length; i += 1) {\n          nu[i] = derez(value[i], path + '[' + i + ']', i);\n        }\n      } else {\n        // If it is an object, replicate the object.\n        nu = {};\n\n        for (name in value) {\n          if (Object.prototype.hasOwnProperty.call(value, name)) {\n            var nextPath = /^\\w+$/.test(name) ? '.' + name : '[' + JSON.stringify(name) + ']';\n            nu[name] = name === '$jsan' ? [derez(value[name], path + nextPath)] : derez(value[name], path + nextPath, name);\n          }\n        }\n      }\n\n      return nu;\n    }\n\n    return value;\n  }(object, '$');\n};\n\nexports.retrocycle = function retrocycle($) {\n  'use strict';\n\n  return function rez(value) {\n    // The rez function walks recursively through the object looking for $jsan\n    // properties. When it finds one that has a value that is a path, then it\n    // replaces the $jsan object with a reference to the value that is found by\n    // the path.\n    var i, item, name, path;\n\n    if (value && typeof value === 'object') {\n      if (Object.prototype.toString.apply(value) === '[object Array]') {\n        for (i = 0; i < value.length; i += 1) {\n          item = value[i];\n\n          if (item && typeof item === 'object') {\n            if (item.$jsan) {\n              value[i] = utils.restore(item.$jsan, $);\n            } else {\n              rez(item);\n            }\n          }\n        }\n      } else {\n        for (name in value) {\n          // base case passed raw object\n          if (typeof value[name] === 'string' && name === '$jsan') {\n            return utils.restore(value.$jsan, $);\n            break;\n          } else {\n            if (name === '$jsan') {\n              value[name] = value[name][0];\n            }\n\n            if (typeof value[name] === 'object') {\n              item = value[name];\n\n              if (item && typeof item === 'object') {\n                if (item.$jsan) {\n                  value[name] = utils.restore(item.$jsan, $);\n                } else {\n                  rez(item);\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return value;\n  }($);\n};","map":{"version":3,"names":["pathGetter","require","utils","WMap","WeakMap","keys","values","set","key","value","push","get","i","length","exports","decycle","object","options","replacer","map","noCircularOption","Object","prototype","hasOwnProperty","call","withRefs","refs","derez","_value","path","name","nu","date","Date","$jsan","getTime","regex","RegExp","getRegexFlags","source","stringifyFunction","isNaN","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","undefined","Error","message","symbolKey","Symbol","keyFor","toString","slice","Map","Array","from","JSON","stringify","Set","toJSON","error","keyString","Boolean","String","foundPath","parentPath","split","join","indexOf","circular","apply","nextPath","test","retrocycle","$","rez","item","restore"],"sources":["F:/music_webapp/node_modules/jsan/lib/cycle.js"],"sourcesContent":["var pathGetter = require('./path-getter');\nvar utils = require('./utils');\n\nvar WMap = typeof WeakMap !== 'undefined'?\n  WeakMap:\n  function() {\n    var keys = [];\n    var values = [];\n    return {\n      set: function(key, value) {\n        keys.push(key);\n        values.push(value);\n      },\n      get: function(key) {\n        for (var i = 0; i < keys.length; i++) {\n          if (keys[i] === key) {\n            return values[i];\n          }\n        }\n      }\n    }\n  };\n\n// Based on https://github.com/douglascrockford/JSON-js/blob/master/cycle.js\n\nexports.decycle = function decycle(object, options, replacer, map) {\n  'use strict';\n\n  map = map || new WMap();\n\n  var noCircularOption = !Object.prototype.hasOwnProperty.call(options, 'circular');\n  var withRefs = options.refs !== false;\n\n  return (function derez(_value, path, key) {\n\n    // The derez recurses through the object, producing the deep copy.\n\n    var i,        // The loop counter\n      name,       // Property name\n      nu;         // The new object or array\n\n    // typeof null === 'object', so go on if this value is really an object but not\n    // one of the weird builtin objects.\n\n    var value = typeof replacer === 'function' ? replacer(key || '', _value) : _value;\n\n    if (options.date && value instanceof Date) {\n      return {$jsan: 'd' + value.getTime()};\n    }\n    if (options.regex && value instanceof RegExp) {\n      return {$jsan: 'r' + utils.getRegexFlags(value) + ',' + value.source};\n    }\n    if (options['function'] && typeof value === 'function') {\n      return {$jsan: 'f' + utils.stringifyFunction(value, options['function'])}\n    }\n    if (options['nan'] && typeof value === 'number' && isNaN(value)) {\n      return {$jsan: 'n'}\n    }\n    if (options['infinity']) {\n      if (Number.POSITIVE_INFINITY === value) return {$jsan: 'i'}\n      if (Number.NEGATIVE_INFINITY === value) return {$jsan: 'y'}\n    }\n    if (options['undefined'] && value === undefined) {\n      return {$jsan: 'u'}\n    }\n    if (options['error'] && value instanceof Error) {\n      return {$jsan: 'e' + value.message}\n    }\n    if (options['symbol'] && typeof value === 'symbol') {\n      var symbolKey = Symbol.keyFor(value)\n      if (symbolKey !== undefined) {\n        return {$jsan: 'g' + symbolKey}\n      }\n\n      // 'Symbol(foo)'.slice(7, -1) === 'foo'\n      return {$jsan: 's' + value.toString().slice(7, -1)}\n    }\n\n    if (options['map'] && typeof Map === 'function' && value instanceof Map && typeof Array.from === 'function') {\n      return {$jsan: 'm' + JSON.stringify(decycle(Array.from(value), options, replacer, map))}\n    }\n\n    if (options['set'] && typeof Set === 'function' && value instanceof Set && typeof Array.from === 'function') {\n      return {$jsan: 'l' + JSON.stringify(decycle(Array.from(value), options, replacer, map))}\n    }\n\n    if (value && typeof value.toJSON === 'function') {\n      try {\n        value = value.toJSON(key);\n      } catch (error) {\n        var keyString = (key || '$');\n        return \"toJSON failed for '\" + (map.get(value) || keyString) + \"'\";\n      }\n    }\n\n    if (typeof value === 'object' && value !== null &&\n      !(value instanceof Boolean) &&\n      !(value instanceof Date)    &&\n      !(value instanceof Number)  &&\n      !(value instanceof RegExp)  &&\n      !(value instanceof String)  &&\n      !(typeof value === 'symbol')  &&\n      !(value instanceof Error)) {\n\n        // If the value is an object or array, look to see if we have already\n        // encountered it. If so, return a $ref/path object.\n\n      if (typeof value === 'object') {\n        var foundPath = map.get(value);\n        if (foundPath) {\n          if (noCircularOption && withRefs) {\n            return {$jsan: foundPath};\n          }\n          \n          // This is only a true circular reference if the parent path is inside of foundPath\n          // drop the last component of the current path and check if it starts with foundPath\n          var parentPath = path.split('.').slice(0, -1).join('.');\n          if (parentPath.indexOf(foundPath) === 0) {\n            if (!noCircularOption) {\n              return typeof options.circular === 'function'?\n              options.circular(value, path, foundPath):\n              options.circular;\n            }\n            return {$jsan: foundPath};\n          }\n          if (withRefs) return {$jsan: foundPath};\n        }\n        map.set(value, path);\n      }\n\n\n      // If it is an array, replicate the array.\n\n      if (Object.prototype.toString.apply(value) === '[object Array]') {\n          nu = [];\n          for (i = 0; i < value.length; i += 1) {\n              nu[i] = derez(value[i], path + '[' + i + ']', i);\n          }\n      } else {\n\n        // If it is an object, replicate the object.\n\n        nu = {};\n        for (name in value) {\n          if (Object.prototype.hasOwnProperty.call(value, name)) {\n            var nextPath = /^\\w+$/.test(name) ?\n              '.' + name :\n              '[' + JSON.stringify(name) + ']';\n            nu[name] = name === '$jsan' ? [derez(value[name], path + nextPath)] : derez(value[name], path + nextPath, name);\n          }\n        }\n      }\n      return nu;\n    }\n    return value;\n  }(object, '$'));\n};\n\n\nexports.retrocycle = function retrocycle($) {\n  'use strict';\n\n\n  return (function rez(value) {\n\n    // The rez function walks recursively through the object looking for $jsan\n    // properties. When it finds one that has a value that is a path, then it\n    // replaces the $jsan object with a reference to the value that is found by\n    // the path.\n\n    var i, item, name, path;\n\n    if (value && typeof value === 'object') {\n      if (Object.prototype.toString.apply(value) === '[object Array]') {\n        for (i = 0; i < value.length; i += 1) {\n          item = value[i];\n          if (item && typeof item === 'object') {\n            if (item.$jsan) {\n              value[i] = utils.restore(item.$jsan, $);\n            } else {\n              rez(item);\n            }\n          }\n        }\n      } else {\n        for (name in value) {\n          // base case passed raw object\n          if(typeof value[name] === 'string' && name === '$jsan'){\n            return utils.restore(value.$jsan, $);\n            break;\n          }\n          else {\n            if (name === '$jsan') {\n              value[name] = value[name][0];\n            }\n            if (typeof value[name] === 'object') {\n              item = value[name];\n              if (item && typeof item === 'object') {\n                if (item.$jsan) {\n                  value[name] = utils.restore(item.$jsan, $);\n                } else {\n                  rez(item);\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    return value;\n  }($));\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}