{"ast":null,"code":"/* \r\n    \"[00:00.000] 作词 : 张震岳\\n\r\n    [00:01.000] 作曲 : 张震岳\\n\r\n    [00:08.620]我怕我没有机会\\n\r\n    [00:12.440]跟你说一声再见\\n\r\n    [00:16.310]因为也许就再也见不到你\\n\"\r\n*/\n// \\[ \\. \\]为转义\nconst parseExp = /\\[(\\d{2}):(\\d{2})\\.(\\d{3})\\]/;\nexport function parseLyric(lyrics) {\n  if (!lyrics) return;\n  const lineStrings = lyrics.split('\\n');\n  const lyricArr = [];\n\n  for (const line of lineStrings) {\n    if (line) {\n      const result = parseExp.exec(line);\n      if (!result) continue;\n      const time1 = result[1] * 60 * 1000;\n      const time2 = result[2] * 1000;\n      const time3 = result[3] * 1; // 当前歌曲播放的总时长(毫秒)\n\n      const totalTime = time1 + time2 + time3;\n      const content = line.replace(parseExp, '').trim();\n      lyricArr.push({\n        totalTime,\n        content\n      });\n    }\n  }\n\n  return lyricArr;\n}","map":{"version":3,"names":["parseExp","parseLyric","lyrics","lineStrings","split","lyricArr","line","result","exec","time1","time2","time3","totalTime","content","replace","trim","push"],"sources":["F:/music_webapp/src/utils/parse-lyric.js"],"sourcesContent":["/* \r\n    \"[00:00.000] 作词 : 张震岳\\n\r\n    [00:01.000] 作曲 : 张震岳\\n\r\n    [00:08.620]我怕我没有机会\\n\r\n    [00:12.440]跟你说一声再见\\n\r\n    [00:16.310]因为也许就再也见不到你\\n\"\r\n*/\r\n// \\[ \\. \\]为转义\r\nconst parseExp = /\\[(\\d{2}):(\\d{2})\\.(\\d{3})\\]/\r\nexport function parseLyric(lyrics) {\r\n  if(!lyrics) return\r\n  const lineStrings = lyrics.split('\\n')\r\n  const lyricArr = []\r\n  for (const line of lineStrings) {\r\n    if (line) {\r\n      const result = parseExp.exec(line)\r\n      if(!result) continue\r\n      const time1 = result[1] * 60 * 1000\r\n      const time2 = result[2] * 1000\r\n      const time3 = result[3] * 1\r\n      // 当前歌曲播放的总时长(毫秒)\r\n      const totalTime = time1 + time2 + time3\r\n      const content = line.replace(parseExp, '').trim()\r\n      lyricArr.push({totalTime, content})\r\n    }\r\n  }\r\n  return lyricArr\r\n}"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMA,QAAQ,GAAG,8BAAjB;AACA,OAAO,SAASC,UAAT,CAAoBC,MAApB,EAA4B;EACjC,IAAG,CAACA,MAAJ,EAAY;EACZ,MAAMC,WAAW,GAAGD,MAAM,CAACE,KAAP,CAAa,IAAb,CAApB;EACA,MAAMC,QAAQ,GAAG,EAAjB;;EACA,KAAK,MAAMC,IAAX,IAAmBH,WAAnB,EAAgC;IAC9B,IAAIG,IAAJ,EAAU;MACR,MAAMC,MAAM,GAAGP,QAAQ,CAACQ,IAAT,CAAcF,IAAd,CAAf;MACA,IAAG,CAACC,MAAJ,EAAY;MACZ,MAAME,KAAK,GAAGF,MAAM,CAAC,CAAD,CAAN,GAAY,EAAZ,GAAiB,IAA/B;MACA,MAAMG,KAAK,GAAGH,MAAM,CAAC,CAAD,CAAN,GAAY,IAA1B;MACA,MAAMI,KAAK,GAAGJ,MAAM,CAAC,CAAD,CAAN,GAAY,CAA1B,CALQ,CAMR;;MACA,MAAMK,SAAS,GAAGH,KAAK,GAAGC,KAAR,GAAgBC,KAAlC;MACA,MAAME,OAAO,GAAGP,IAAI,CAACQ,OAAL,CAAad,QAAb,EAAuB,EAAvB,EAA2Be,IAA3B,EAAhB;MACAV,QAAQ,CAACW,IAAT,CAAc;QAACJ,SAAD;QAAYC;MAAZ,CAAd;IACD;EACF;;EACD,OAAOR,QAAP;AACD"},"metadata":{},"sourceType":"module"}