{"ast":null,"code":"import axios from 'axios';\nimport { BASE_URL, TIMEOUT } from './config';\nconst instance = axios.create({\n  // 默认的配置\n  baseURL: BASE_URL,\n  timeout: TIMEOUT,\n  headers: {}\n});\ninstance.interceptors.request.use( // 请求拦截\nconfig => {\n  // 1.发送网络请求时, 在界面的中间位置显示Loading的组件\n  // 2.某一些请求要求用户必须携带token, 如果没有携带, 那么直接跳转到登录页面\n  // 3.params/data序列化的操作\n  return config;\n}, err => {});\ninstance.interceptors.response.use( // 响应拦截\nres => {\n  return res.data;\n}, err => {\n  if (err && err.response) {\n    switch (err.response.status) {\n      case 400:\n        console.log('请求错误');\n        break;\n\n      case 401:\n        console.log('未授权访问');\n        break;\n\n      default:\n        console.log('其他错误信息');\n    }\n  }\n\n  return err;\n});\nexport default instance;","map":{"version":3,"names":["axios","BASE_URL","TIMEOUT","instance","create","baseURL","timeout","headers","interceptors","request","use","config","err","response","res","data","status","console","log"],"sources":["F:/music_webapp/src/service/myAxios.js"],"sourcesContent":["import axios from 'axios'\r\n\r\nimport { BASE_URL, TIMEOUT } from './config'\r\n\r\nconst instance = axios.create({\r\n  // 默认的配置\r\n  baseURL: BASE_URL,\r\n  timeout: TIMEOUT,\r\n  headers: {},\r\n})\r\n\r\ninstance.interceptors.request.use(\r\n  // 请求拦截\r\n  (config) => {\r\n    // 1.发送网络请求时, 在界面的中间位置显示Loading的组件\r\n\r\n    // 2.某一些请求要求用户必须携带token, 如果没有携带, 那么直接跳转到登录页面\r\n\r\n    // 3.params/data序列化的操作\r\n    return config\r\n  },\r\n  (err) => {}\r\n)\r\ninstance.interceptors.response.use(\r\n  // 响应拦截\r\n  (res) => {\r\n    return res.data\r\n  },\r\n  (err) => {\r\n    if (err && err.response) {\r\n      switch (err.response.status) {\r\n        case 400:\r\n          console.log('请求错误')\r\n          break\r\n        case 401:\r\n          console.log('未授权访问')\r\n          break\r\n        default:\r\n          console.log('其他错误信息')\r\n      }\r\n    }\r\n    return err\r\n  }\r\n)\r\n\r\nexport default instance\r\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,QAAT,EAAmBC,OAAnB,QAAkC,UAAlC;AAEA,MAAMC,QAAQ,GAAGH,KAAK,CAACI,MAAN,CAAa;EAC5B;EACAC,OAAO,EAAEJ,QAFmB;EAG5BK,OAAO,EAAEJ,OAHmB;EAI5BK,OAAO,EAAE;AAJmB,CAAb,CAAjB;AAOAJ,QAAQ,CAACK,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,EACE;AACCC,MAAD,IAAY;EACV;EAEA;EAEA;EACA,OAAOA,MAAP;AACD,CATH,EAUGC,GAAD,IAAS,CAAE,CAVb;AAYAT,QAAQ,CAACK,YAAT,CAAsBK,QAAtB,CAA+BH,GAA/B,EACE;AACCI,GAAD,IAAS;EACP,OAAOA,GAAG,CAACC,IAAX;AACD,CAJH,EAKGH,GAAD,IAAS;EACP,IAAIA,GAAG,IAAIA,GAAG,CAACC,QAAf,EAAyB;IACvB,QAAQD,GAAG,CAACC,QAAJ,CAAaG,MAArB;MACE,KAAK,GAAL;QACEC,OAAO,CAACC,GAAR,CAAY,MAAZ;QACA;;MACF,KAAK,GAAL;QACED,OAAO,CAACC,GAAR,CAAY,OAAZ;QACA;;MACF;QACED,OAAO,CAACC,GAAR,CAAY,QAAZ;IARJ;EAUD;;EACD,OAAON,GAAP;AACD,CAnBH;AAsBA,eAAeT,QAAf"},"metadata":{},"sourceType":"module"}