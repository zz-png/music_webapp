{"ast":null,"code":"var cycle = require('./cycle');\n\nexports.stringify = function stringify(value, replacer, space, _options) {\n  if (arguments.length < 4) {\n    try {\n      if (arguments.length === 1) {\n        return JSON.stringify(value);\n      } else {\n        return JSON.stringify.apply(JSON, arguments);\n      }\n    } catch (e) {}\n  }\n\n  var options = _options || false;\n\n  if (typeof options === 'boolean') {\n    options = {\n      'date': options,\n      'function': options,\n      'regex': options,\n      'undefined': options,\n      'error': options,\n      'symbol': options,\n      'map': options,\n      'set': options,\n      'nan': options,\n      'infinity': options\n    };\n  }\n\n  var decycled = cycle.decycle(value, options, replacer);\n\n  if (arguments.length === 1) {\n    return JSON.stringify(decycled);\n  } else {\n    // decycle already handles when replacer is a function.\n    return JSON.stringify(decycled, Array.isArray(replacer) ? replacer : null, space);\n  }\n};\n\nexports.parse = function parse(text, reviver) {\n  var needsRetrocycle = /\"\\$jsan\"/.test(text);\n  var parsed;\n\n  if (arguments.length === 1) {\n    parsed = JSON.parse(text);\n  } else {\n    parsed = JSON.parse(text, reviver);\n  }\n\n  if (needsRetrocycle) {\n    parsed = cycle.retrocycle(parsed);\n  }\n\n  return parsed;\n};","map":{"version":3,"names":["cycle","require","exports","stringify","value","replacer","space","_options","arguments","length","JSON","apply","e","options","decycled","decycle","Array","isArray","parse","text","reviver","needsRetrocycle","test","parsed","retrocycle"],"sources":["F:/music_webapp/node_modules/jsan/lib/index.js"],"sourcesContent":["var cycle = require('./cycle');\n\nexports.stringify = function stringify(value, replacer, space, _options) {\n\n  if (arguments.length < 4) {\n    try {\n      if (arguments.length === 1) {\n        return JSON.stringify(value);\n      } else {\n        return JSON.stringify.apply(JSON, arguments);\n      }\n    } catch (e) {}\n  }\n\n  var options = _options || false;\n  if (typeof options === 'boolean') {\n    options = {\n      'date': options,\n      'function': options,\n      'regex': options,\n      'undefined': options,\n      'error': options,\n      'symbol': options,\n      'map': options,\n      'set': options,\n      'nan': options,\n      'infinity': options\n    }\n  }\n\n  var decycled = cycle.decycle(value, options, replacer);\n  if (arguments.length === 1) {\n    return JSON.stringify(decycled);\n  } else {\n    // decycle already handles when replacer is a function.\n    return JSON.stringify(decycled, Array.isArray(replacer) ? replacer : null, space);\n  }\n}\n\nexports.parse = function parse(text, reviver) {\n  var needsRetrocycle = /\"\\$jsan\"/.test(text);\n  var parsed;\n  if (arguments.length === 1) {\n    parsed = JSON.parse(text);\n  } else {\n    parsed = JSON.parse(text, reviver);\n  }\n  if (needsRetrocycle) {\n    parsed = cycle.retrocycle(parsed);\n  }\n  return parsed;\n}\n"],"mappings":"AAAA,IAAIA,KAAK,GAAGC,OAAO,CAAC,SAAD,CAAnB;;AAEAC,OAAO,CAACC,SAAR,GAAoB,SAASA,SAAT,CAAmBC,KAAnB,EAA0BC,QAA1B,EAAoCC,KAApC,EAA2CC,QAA3C,EAAqD;EAEvE,IAAIC,SAAS,CAACC,MAAV,GAAmB,CAAvB,EAA0B;IACxB,IAAI;MACF,IAAID,SAAS,CAACC,MAAV,KAAqB,CAAzB,EAA4B;QAC1B,OAAOC,IAAI,CAACP,SAAL,CAAeC,KAAf,CAAP;MACD,CAFD,MAEO;QACL,OAAOM,IAAI,CAACP,SAAL,CAAeQ,KAAf,CAAqBD,IAArB,EAA2BF,SAA3B,CAAP;MACD;IACF,CAND,CAME,OAAOI,CAAP,EAAU,CAAE;EACf;;EAED,IAAIC,OAAO,GAAGN,QAAQ,IAAI,KAA1B;;EACA,IAAI,OAAOM,OAAP,KAAmB,SAAvB,EAAkC;IAChCA,OAAO,GAAG;MACR,QAAQA,OADA;MAER,YAAYA,OAFJ;MAGR,SAASA,OAHD;MAIR,aAAaA,OAJL;MAKR,SAASA,OALD;MAMR,UAAUA,OANF;MAOR,OAAOA,OAPC;MAQR,OAAOA,OARC;MASR,OAAOA,OATC;MAUR,YAAYA;IAVJ,CAAV;EAYD;;EAED,IAAIC,QAAQ,GAAGd,KAAK,CAACe,OAAN,CAAcX,KAAd,EAAqBS,OAArB,EAA8BR,QAA9B,CAAf;;EACA,IAAIG,SAAS,CAACC,MAAV,KAAqB,CAAzB,EAA4B;IAC1B,OAAOC,IAAI,CAACP,SAAL,CAAeW,QAAf,CAAP;EACD,CAFD,MAEO;IACL;IACA,OAAOJ,IAAI,CAACP,SAAL,CAAeW,QAAf,EAAyBE,KAAK,CAACC,OAAN,CAAcZ,QAAd,IAA0BA,QAA1B,GAAqC,IAA9D,EAAoEC,KAApE,CAAP;EACD;AACF,CAnCD;;AAqCAJ,OAAO,CAACgB,KAAR,GAAgB,SAASA,KAAT,CAAeC,IAAf,EAAqBC,OAArB,EAA8B;EAC5C,IAAIC,eAAe,GAAG,WAAWC,IAAX,CAAgBH,IAAhB,CAAtB;EACA,IAAII,MAAJ;;EACA,IAAIf,SAAS,CAACC,MAAV,KAAqB,CAAzB,EAA4B;IAC1Bc,MAAM,GAAGb,IAAI,CAACQ,KAAL,CAAWC,IAAX,CAAT;EACD,CAFD,MAEO;IACLI,MAAM,GAAGb,IAAI,CAACQ,KAAL,CAAWC,IAAX,EAAiBC,OAAjB,CAAT;EACD;;EACD,IAAIC,eAAJ,EAAqB;IACnBE,MAAM,GAAGvB,KAAK,CAACwB,UAAN,CAAiBD,MAAjB,CAAT;EACD;;EACD,OAAOA,MAAP;AACD,CAZD"},"metadata":{},"sourceType":"script"}